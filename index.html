<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Mini-garden üå±</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif; background:#f4f6f5; color:#1c1c1c;}
.container { padding:20px; max-width:420px; margin:0 auto; }
.card { background:#fff; border-radius:16px; padding:16px; margin-bottom:16px; box-shadow:0 8px 20px rgba(0,0,0,0.06);}
.plant-image { width:100%; border-radius:14px; margin-bottom:12px;}
h1 { margin:0 0 8px; font-size:22px;}
.description { font-size:14px; color:#555;}
.care-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:8px;}
.care-item { background:#f7f9f8; border-radius:12px; padding:12px; font-size:14px;}
.care-item span { display:block; font-size:18px; margin-bottom:4px;}
.button { width:100%; padding:14px; border-radius:14px; border:none; font-size:16px; background:#2ecc71; color:white; cursor:pointer; margin-top:8px;}
.button:active { transform:scale(0.98);}
.status { margin-top:10px; font-size:14px; color:#2ecc71; text-align:center;}
.hidden { display:none; }
.purchase-option { display:flex; align-items:center; margin-top:10px; background:#f7f9f8; border-radius:12px; padding:10px; cursor:pointer;}
.purchase-option img { width:40px; margin-right:12px; border-radius:8px;}
.purchase-option span { font-size:16px; }
.purchase-option:hover { background:#e0f2e9; }
</style>
</head>
<body>
<div class="container">

<!-- 1. –ï—Å—Ç—å —Ü–≤–µ—Ç–æ–∫ -->
<div class="card" id="havePlantCard">
<h1>–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —Ü–≤–µ—Ç–æ–∫?</h1>
<button class="button" id="havePlantYes">–î–∞ üå±</button>
<button class="button" id="havePlantNo">–ù–µ—Ç ‚ùå</button>
</div>

<!-- 2. –í—ã–±–æ—Ä —Ä–∞—Å—Ç–µ–Ω–∏—è, –µ—Å–ª–∏ –µ—Å—Ç—å -->
<div class="card hidden" id="selectPlantCard">
<h1>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ü–≤–µ—Ç–æ–∫</h1>
<select id="plantSelect"></select>
<button class="button" id="selectPlantBtn">–í—ã–±—Ä–∞—Ç—å</button>
</div>

<!-- 3. –ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞—Å—Ç–µ–Ω–∏—è —Å —ç—Ç–∞–ø–∞–º–∏ -->
<div class="card hidden" id="plantCard">
<img id="plantImage" class="plant-image" src="">
<h1 id="plantName"></h1>
<div class="description" id="plantDescription"></div>

<h1>–£—Ö–æ–¥</h1>
<div class="care-grid">
  <div class="care-item" id="careWater"><span>üíß</span>–ü–æ–ª–∏–≤</div>
  <div class="care-item" id="careLight"><span>‚òÄÔ∏è</span>–°–≤–µ—Ç</div>
  <div class="care-item" id="carePets"><span>üêæ</span>–ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö</div>
  <div class="care-item" id="careTemp"><span>üå°Ô∏è</span>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
</div>
<button class="button" id="waterBtn">–Ø –ø–æ–ª–∏–ª —Å–µ–≥–æ–¥–Ω—è üíß</button>
<div class="status" id="statusText"></div>

<h1 style="margin-top:16px;">–ö—É–ø–∏—Ç—å</h1>
<div id="purchaseContainer"></div>

<button class="button hidden" id="nextStageBtn">–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø üå±</button>
</div>

<!-- 4. –¢–µ—Å—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ -->
<div class="card hidden" id="testCard">
<h1>–î–∞–≤–∞–π—Ç–µ –ø–æ–¥–±–µ—Ä–µ–º –≤–∞–º —Ü–≤–µ—Ç–æ–∫</h1>
<div class="description">–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:</div>

<label>1. –ì–¥–µ –±—É–¥–µ—Ç —Å—Ç–æ—è—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏–µ?</label>
<select id="locationSelect">
<option value="south">üåû –Æ–∂–Ω–æ–µ –æ–∫–Ω–æ</option>
<option value="east">üå§ –í–æ—Å—Ç–æ—á–Ω–æ–µ –æ–∫–Ω–æ</option>
<option value="west">üå• –ó–∞–ø–∞–¥–Ω–æ–µ –æ–∫–Ω–æ</option>
<option value="north">üåë –°–µ–≤–µ—Ä–Ω–æ–µ –æ–∫–Ω–æ</option>
<option value="far">ü™¥ –î–∞–ª–µ–∫–æ –æ—Ç –æ–∫–Ω–∞</option>
</select>

<label>2. –ö–∞–∫–∞—è —É –≤–∞—Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–æ–º–∞?</label>
<select id="tempSelect">
<option value="cold">‚ùÑÔ∏è –ü—Ä–æ—Ö–ª–∞–¥–Ω–æ (–¥–æ 18¬∞C)</option>
<option value="normal">üå° –ù–æ—Ä–º–∞–ª—å–Ω–æ (18‚Äì24¬∞C)</option>
<option value="hot">üî• –ñ–∞—Ä–∫–æ (25¬∞C –∏ –≤—ã—à–µ)</option>
</select>

<label>3. –û–ø—ã—Ç —Å —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏?</label>
<select id="expSelect">
<option value="kill">üòÖ –û–±—ã—á–Ω–æ —É–±–∏–≤–∞—é</option>
<option value="medium">üôÇ –ò–Ω–æ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç—Å—è</option>
<option value="pro">üòé –£–≤–µ—Ä–µ–Ω–Ω—ã–π —Ü–≤–µ—Ç–æ–≤–æ–¥</option>
</select>

<label>4. –ï—Å—Ç—å –ª–∏ –¥–æ–º–∞—à–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ?</label>
<select id="petsSelect">
<option value="yes">üêæ –î–∞</option>
<option value="no">üö´ –ù–µ—Ç</option>
</select>

<button class="button" id="runTestBtn">–ü–æ–¥–æ–±—Ä–∞—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏–µ</button>
</div>

<!-- 5. –í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ä–∞—Å—Ç–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ -->
<div class="card hidden" id="choosePlantCard">
<h1>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç–æ–∫ –ø–æ–¥ –≤–∞—à–∏ —É—Å–ª–æ–≤–∏—è</h1>
<select id="suggestedSelect"></select>
<button class="button" id="choosePlantBtn">–í—ã–±—Ä–∞—Ç—å</button>
</div>

</div>

<script>
// ===== –î–ê–ù–ù–´–ï =====
const plants = {
    "–ö–æ–ª–µ—É—Å": {img:"images/coleus.png", baseInterval:{seed:3, sprout:2, young:3, adult:3}, prefersBright:true, petsSafe:true, temp:"18‚Äì25¬∞C"},
    "–ë–µ–≥–æ–Ω–∏—è": {img:"images/begoniya.png", baseInterval:{seed:4, sprout:3, young:4, adult:4}, prefersBright:false, petsSafe:true, temp:"18‚Äì25¬∞C"},
    "–ê–ª—å—Å—Ç—Ä–æ–º–µ—Ä–∏—è": {img:"images/alstro.png", baseInterval:{seed:5, sprout:3, young:4, adult:5}, prefersBright:true, petsSafe:true, temp:"18‚Äì25¬∞C"}
};

const purchaseLinks = {
    "–ö–æ–ª–µ—É—Å":[{name:"–ù–∞–±–æ—Ä: —Å–µ–º–µ–Ω–∞, –≥–æ—Ä—à–æ–∫, –∑–µ–º–ª—è", img:"images/ozon.png", url:"https://www.ozon.ru/"}],
    "–ë–µ–≥–æ–Ω–∏—è":[{name:"–ù–∞–±–æ—Ä: —Å–µ–º–µ–Ω–∞, –≥–æ—Ä—à–æ–∫, –∑–µ–º–ª—è", img:"images/ozon.png", url:"https://www.ozon.ru/"}],
    "–ê–ª—å—Å—Ç—Ä–æ–º–µ—Ä–∏—è":[{name:"–ù–∞–±–æ—Ä: —Å–µ–º–µ–Ω–∞, –≥–æ—Ä—à–æ–∫, –∑–µ–º–ª—è", img:"images/ozon.png", url:"https://www.ozon.ru/"}]
};

// ===== –≠–¢–ê–ü–´ –° –ò–ù–°–¢–†–£–ö–¶–ò–Ø–ú–ò =====
const plantStages = {
  "–ö–æ–ª–µ—É—Å":{
    seed:{title:"–ü–æ—Å–∞–¥–∫–∞ —Å–µ–º—è–Ω üå±", content:["–ü–æ—Å–∞–¥–∏—Ç–µ —Å–µ–º–µ–Ω–∞ –≤–æ –≤–ª–∞–∂–Ω—ã–π –≥—Ä—É–Ω—Ç","–ù–∞–∫—Ä–æ–π—Ç–µ –ø–ª—ë–Ω–∫–æ–π","–ü–æ–ª–∏–≤–∞–π—Ç–µ 1 —Ä–∞–∑ –≤ 3 –¥–Ω—è"], img:"images/coleus_seed.png"},
    sprout:{title:"–†–æ—Å—Ç–∫–∏ üåø", content:["–°–Ω–∏–º–∏—Ç–µ –ø–ª—ë–Ω–∫—É","–Ø—Ä–∫–∏–π —Ä–∞—Å—Å–µ—è–Ω–Ω—ã–π —Å–≤–µ—Ç","–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 2 –¥–Ω—è"], img:"images/coleus_sprout.png"},
    young:{title:"–ü–æ–¥—Ä–æ—Å—à–µ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ üå±‚Äçüå±", content:["–ü–æ–¥–∫–∞—Ä–º–ª–∏–≤–∞–π—Ç–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ–º —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é","–ü—Ä–∏—â–∏–ø–∫–∞ –±–æ–∫–æ–≤—ã—Ö –ø–æ–±–µ–≥–æ–≤","–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 2-3 –¥–Ω—è"], img:"images/coleus_young.png"},
    adult:{title:"–í–∑—Ä–æ—Å–ª—ã–π –∫–æ–ª–µ—É—Å üå∏", content:["–†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 3 –¥–Ω—è","–ü–æ–¥–∫–æ—Ä–º–∫–∞ —Ä–∞–∑ –≤ 2 –Ω–µ–¥–µ–ª–∏","–û–±—Ä–µ–∑–∞–π—Ç–µ —É–≤—è–¥—à–∏–µ –ª–∏—Å—Ç—å—è"], img:"images/coleus.png"}
  },
  "–ë–µ–≥–æ–Ω–∏—è":{
    seed:{title:"–ü–æ—Å–∞–¥–∫–∞ —Å–µ–º—è–Ω üå±", content:["–ü–æ—Å–∞–¥–∏—Ç–µ —Å–µ–º–µ–Ω–∞","–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 4 –¥–Ω—è"], img:"images/begonia_seed.png"},
    sprout:{title:"–†–æ—Å—Ç–∫–∏ üåø", content:["–†–æ—Å—Ç–∫–∏ –ø–æ—è–≤–∏–ª–∏—Å—å","–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 3 –¥–Ω—è"], img:"images/begonia_sprout.png"},
    young:{title:"–ü–æ–¥—Ä–æ—Å—à–µ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ üå±‚Äçüå±", content:["–ü–æ–¥—Ä–æ—Å—à–µ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ","–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 4 –¥–Ω—è"], img:"images/begonia_young.png"},
    adult:{title:"–í–∑—Ä–æ—Å–ª–∞—è –±–µ–≥–æ–Ω–∏—è üå∏", content:["–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 4 –¥–Ω—è","–ü–æ–¥–∫–æ—Ä–º–∫–∞ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é"], img:"images/begonia.png"}
  },
  "–ê–ª—å—Å—Ç—Ä–æ–º–µ—Ä–∏—è":{
    seed:{title:"–ü–æ—Å–∞–¥–∫–∞ —Å–µ–º—è–Ω üå±", content:["–ü–æ—Å–∞–¥–∏—Ç–µ —Å–µ–º–µ–Ω–∞","–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 5 –¥–Ω–µ–π"], img:"images/alstro_seed.png"},
    sprout:{title:"–†–æ—Å—Ç–∫–∏ üåø", content:["–†–æ—Å—Ç–∫–∏ –ø–æ—è–≤–∏–ª–∏—Å—å","–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 3 –¥–Ω—è"], img:"images/alstro_sprout.png"},
    young:{title:"–ü–æ–¥—Ä–æ—Å—à–µ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ üå±‚Äçüå±", content:["–ü–æ–¥—Ä–æ—Å—à–µ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ","–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 4 –¥–Ω—è"], img:"images/alstro_young.png"},
    adult:{title:"–í–∑—Ä–æ—Å–ª–∞—è –∞–ª—å—Å—Ç—Ä–æ–º–µ—Ä–∏—è üå∏", content:["–ü–æ–ª–∏–≤ 1 —Ä–∞–∑ –≤ 5 –¥–Ω–µ–π","–ü–æ–¥–∫–æ—Ä–º–∫–∞ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é"], img:"images/alstro.png"}
  }
};

// ===== –≠–õ–ï–ú–ï–ù–¢–´ =====
const havePlantCard=document.getElementById("havePlantCard");
const selectPlantCard=document.getElementById("selectPlantCard");
const testCard=document.getElementById("testCard");
const choosePlantCard=document.getElementById("choosePlantCard");
const plantCard=document.getElementById("plantCard");
const plantSelect=document.getElementById("plantSelect");
const suggestedSelect=document.getElementById("suggestedSelect");
const plantImage=document.getElementById("plantImage");
const plantName=document.getElementById("plantName");
const plantDescription=document.getElementById("plantDescription");
const careWater=document.getElementById("careWater");
const careLight=document.getElementById("careLight");
const carePets=document.getElementById("carePets");
const careTemp=document.getElementById("careTemp");
const waterBtn=document.getElementById("waterBtn");
const statusText=document.getElementById("statusText");
const nextStageBtn=document.getElementById("nextStageBtn");
const purchaseContainer=document.getElementById("purchaseContainer");

// ===== –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
let currentPlant="";
let currentStage="seed";
let wateredCount=0;

// ===== –§–£–ù–ö–¶–ò–ò =====
function updatePlantCard(){
    const stageData = plantStages[currentPlant][currentStage];
    const plant = plants[currentPlant];

    plantName.innerText = stageData.title;
    plantDescription.innerHTML = stageData.content.join("<br>");
    plantImage.src = stageData.img;

    careWater.innerText = `üíß –ü–æ–ª–∏–≤: –∫–∞–∂–¥—ã–µ ${plant.baseInterval[currentStage]} –¥–Ω.`;
    careLight.innerText = `‚òÄÔ∏è –°–≤–µ—Ç: ${plant.prefersBright?"—è—Ä–∫–∏–π":"—Å—Ä–µ–¥–Ω–∏–π"}`;
    carePets.innerText = `üêæ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö: ${plant.petsSafe?"–î–∞":"–ù–µ—Ç"}`;
    careTemp.innerText = `üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${plant.temp}`;

    // –ö–Ω–æ–ø–∫–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞–¥–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª–∏–ª–∏ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑
    const requiredWater = 1; // –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω–æ–µ –¥–ª—è —Å—Ç–∞–¥–∏–π
    nextStageBtn.style.display = (wateredCount >= requiredWater) ? "block" : "none";

    // –ü–æ–∫—É–ø–∫–∞
    purchaseContainer.innerHTML="";
    if(purchaseLinks[currentPlant]){
        purchaseLinks[currentPlant].forEach(item=>{
            const div=document.createElement("div");
            div.className="purchase-option";
            div.onclick=()=>window.open(item.url,"_blank");
            div.innerHTML=`<img src="${item.img}" alt="${item.name}"><span>${item.name}</span>`;
            purchaseContainer.appendChild(div);
        });
    }
}

// ===== –ü–û–õ–ò–í =====
function updateWaterButton(){
    waterBtn.disabled = false;
    waterBtn.style.background="#2ecc71";
    statusText.innerText="";
}
waterBtn.onclick=()=>{
    wateredCount++;
    statusText.innerText=`–í—ã –ø–æ–ª–∏–ª–∏ —Ä–∞—Å—Ç–µ–Ω–∏–µ! (${wateredCount} —Ä–∞–∑) üå±`;
    updatePlantCard();
};

// ===== –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –°–¢–ê–î–ò–ô =====
nextStageBtn.onclick=()=>{
    if(currentStage==="seed") currentStage="sprout";
    else if(currentStage==="sprout") currentStage="young";
    else if(currentStage==="young") currentStage="adult";
    wateredCount=0;
    updatePlantCard();
};

// ===== –í–´–ë–û–† –î–ê/–ù–ï–¢ =====
document.getElementById("havePlantYes").onclick=()=>{
    havePlantCard.classList.add("hidden");
    selectPlantCard.classList.remove("hidden");
    plantSelect.innerHTML="";
    for(let p in plants){
        let opt=document.createElement("option"); opt.value=p; opt.innerText=p; plantSelect.appendChild(opt);
    }
};
document.getElementById("havePlantNo").onclick=()=>{
    havePlantCard.classList.add("hidden");
    testCard.classList.remove("hidden");
};

// ===== –í–´–ë–û–† –ò–ó –°–ü–ò–°–ö–ê =====
document.getElementById("selectPlantBtn").onclick=()=>{
    currentPlant = plantSelect.value;
    currentStage="seed";
    wateredCount=0;
    selectPlantCard.classList.add("hidden");
    plantCard.classList.remove("hidden");
    updatePlantCard();
};

// ===== –¢–ï–°–¢ –î–õ–Ø –ù–û–í–ò–ß–ö–û–í =====
document.getElementById("runTestBtn").onclick=()=>{
    const loc=document.getElementById("locationSelect").value;
    const pets=document.getElementById("petsSelect").value;
    let suggested=[];
    if(loc==="south" && pets==="yes") suggested.push("–ë–µ–≥–æ–Ω–∏—è","–ê–ª—å—Å—Ç—Ä–æ–º–µ—Ä–∏—è");
    else suggested.push("–ö–æ–ª–µ—É—Å");
    testCard.classList.add("hidden");
    choosePlantCard.classList.remove("hidden");
    suggestedSelect.innerHTML="";
    suggested.forEach(p=>{
        let opt=document.createElement("option");
        opt.value=p; opt.innerText=p; suggestedSelect.appendChild(opt);
    });
};

// ===== –í–´–ë–û–† –ü–û–°–õ–ï –¢–ï–°–¢–ê =====
document.getElementById("choosePlantBtn").onclick=()=>{
    currentPlant = suggestedSelect.value;
    currentStage="seed";
    wateredCount=0;
    choosePlantCard.classList.add("hidden");
    plantCard.classList.remove("hidden");
    updatePlantCard();
};
</script>
</body>
</html>
